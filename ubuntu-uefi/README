Build ubuntu-uefi sdcard image for rockpi4b:

Input files ../linux/linux/tmp/lib/modules/
            ../linux/linux/tmp/boot/

-----------------------------------------------------------
Download Ubuntu iso.
-----------------------------------------------------------

cd ~/Downloads
wget https://cdimage.ubuntu.com/releases/25.10/release/ubuntu-25.10-desktop-arm64.iso

cd ~/build-rockpi4b/ubuntu-uefi
Plugin USB3 1TB SSD to PC.
sudo ./mkusb3stick.sh
sudo mkfs.vfat /dev/sda1
sudo fdisk -l /dev/sda
sudo mount /dev/sda1 /mnt
sudo 7z x ~/Downloads/ubuntu-25.10-desktop-arm64.iso -o/mnt && sync && sudo umount /mnt
Eject USB3 1TB SSD from PC.

Plugin NVMe to PC.
sudo ./mknvme.sh
Eject NVMe from PC.

------------------------------------------------------------------------
Install ubuntu from USB3 1TB SSD ubuntu iso to empty NVMe.
NOTE: To minimize EMI interference, put USB3 1TB SSD to rockpi4b top USB3 socket,
      Put keyboard mouse to rockpi4b bottom USB2 socket with USB2 extention cable.
------------------------------------------------------------------------

Plugin NVMe, USB3 1TB SSD and ethernet cable to rockpi4b. Power on rockpi4b.

Double click Install Ubuntu LTS icon.
Erase disk and install Ubuntu.
Click Install now.
Contine till finished. Restart. Remove USB3 1TB SSD from rockpi4b.

Plugin NVMe to PC.
sudo fdisk -l /dev/sda
sudo e2label /dev/sda2 rootfs
sudo blkid /dev/sda1 ( write down UUID )
sudo blkid /dev/sda2 ( write down UUID )
sudo mount /dev/sda2 /mnt
sudo cp -r ../linux/linux/tmp/lib/modules/* /mnt/lib/modules
sudo cp -r ../linux/linux/tmp/boot/* /mnt/boot
ls -la /mnt/boot
sudo touch /mnt/boot/grub/grub.cfg
sudo vi /mnt/boot/grub/grub.cfg ( delete everything, add
set timeout=5
set default="Boot UUID"
set menu_color_normal=white/black
set menu_color_highlight=white/green

menuentry "Boot UUID" {
    search --no-floppy --fs-uuid --set=root 6e301fdb-a927-4adc-aa29-0e66279bb0a3
    echo    'Loading Linux 6.18.0-dirty ...'
    linux /boot/vmlinuz-6.18.0-dirty root=LABEL=rootfs rootwait rw rootdelay=10
    echo    'Loading initial ramdisk ...'
    initrd /boot/initrd.img-6.17.0-7-generic
    devicetree /boot/dtb/rockchip/rk3399-rock-pi-4b.dtb
}
)
Note: change above UUID accordingly.
sudo cp ./packages/* /mnt/lib/firmware/brcm
sync; sudo umount /mnt;
Eject NVMe from PC.

Plugin NVMe to rockpi4b. Remove ethernet cable from rockpi4b. Power on rockpi4b.
Setup wifi. Disable power saving, auto suspend and screen saver.
sudo apt install net-tools openssh-server pulseaudio-utils
sudo ifconfig
df .
uname -a
lsb_release -a
date
sudo apt update
sudo apt upgrade
sudo apt dist-upgrade
sync
free
sudo update-initramfs -u -k $(uname -r)
sudo vi /boot/grub/grub.cfg ( change to:
   initrd /boot/initrd.img-6.18.0-dirty
)
sync
sudo shutdown -h now

uname -a
lsb_release -a
Check if Ubuntu is running UEFI mode:
ls /sys/firmware/efi

sudo apt install flex bison libelf-dev libssl-dev build-essential libncurses-dev git speedtest-cli glmark2-es2-wayland mpv ffmpeg python3-pip python3-setuptools pavucontrol zip rfkill vsftpd vlc vlc-plugin-video-output

speedtest-cli --secure

glmark2-es2-wayland

aplay -l
pavucontrol  ( select hdmi as default )

sudo add-apt-repository ppa:mozillateam/ppa
sudo apt update; sudo apt upgrade -y;
sudo apt install firefox-esr
firefox -> youtube -> search YmDNhi07_Ho

Do follows on PC, then ftp swan.mp4 to rockpi4b.
(
git clone https://github.com/yt-dlp/yt-dlp.git
cd yt-dlp
make
cd ../
~/yt-dlp/yt-dlp -f 'bestvideo[ext=mp4][protocol=https]+bestaudio[ext=m4a][protocol=https]' 3qrKjywjo7Q -o swan.mp4 --postprocessor-args " -c:v libx264 -b:v 2M -c:a copy"
)

mpv --hwdec=auto-copy swan.mp4
ffplay swan.mp4
cvlc --gl=wgl --glconv=any swan.mp4

sudo rfkill list
hciconfig hci0
hcitool dev
hciconfig -a
