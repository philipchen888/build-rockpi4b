Build buildroot sdcard image for Radxa rockpi4b:

Input files: ../uboot/out/idbloader.img
             ../uboot/out/uboot.img
             ../uboot/out/trust.img

wget https://buildroot.org/downloads/buildroot-2025.08.tar.gz
tar -xzf buildroot-2025.08.tar.gz
mv buildroot-2025.08 buildroot
vi ./buildroot/configs/rock4se_defconfig ( delete UBOOT, KERNEL, BR2_DOWNLOAD_FORCE_CHECK_HASHES=y, append ./patches/rockpi4_defconfig )
cp ./patches/rockpi-4/* ./buildroot/board/radxa/rock4se/
cd buildroot
\rm -rf .config output
make clean
make rock4se_defconfig
make linux
make

The result is in ./output/images/sdcard.img

sudo dd if=./output/images/sdcard.img of=/dev/sda bs=4096 conv=notrunc,fsync

sudo mount /dev/sda4 /mnt
sudo vi /mnt/etc/network/interfaces ( delete everything after iface lo inet loopback)
sudo vi /mnt/etc/vsftpd.conf ( anonymous_enable=NO, local_enable=YES, write_enable=YES )
sudo mkdir -p /mnt/lib/firmware/brcm/
sudo cp ../patches/brcm/* /mnt/lib/firmware/brcm/
sync; sudo umount /mnt;
Eject sdcard.

Plugin sdcard to rockpi4b.
login:
username: root
password: linaro

wpa_passphrase your_SSID your_passphrase > /etc/ssid.conf
wpa_supplicant -B -i wlan0 -c /etc/ssid.conf
dhcpcd wlan0
ifconfig

uname -a
adduser linaro

date
aplay -l
vi /etc/asound.conf ( add
pcm.!default {
type hw
card 0
}
ctl.!default {
type hw
card 0
}

alsactl -F restore

aplay /home/linaro/yoursong.wav
mpg123 -a hw:0,0 /home/linaro/yoursong.mp3
mpv --no-video /home/linaro/yoursong.mp3

bluetoothctl list
hciconfig hci0
hciconfig -a
hcitool dev
